package cute.modules.render;

import cute.modules.enums.Category;
import cute.eventapi.EventTarget;
import cute.events.EntityViewRenderEvent;
import cute.modules.Module;
import cute.settings.Checkbox;
import net.minecraft.client.renderer.GlStateManager;
import net.minecraft.src.Config;

public class NoRender extends Module
{
	public NoRender() 
	{
		super("No Render", Category.RENDER, "Prevent certain things from being rendered");
	}
	
	public static Checkbox fire = new Checkbox("Fire", true);
    public static Checkbox water = new Checkbox("Water", true);
	public static Checkbox blockOverlay = new Checkbox("Block Overlay", true);
	public static Checkbox fog = new Checkbox("Fog", true);
	public static Checkbox blindnessFog = new Checkbox("Blindness", true);
	
	@Override
    public void setup() 
	{
        addSetting(fire);
        addSetting(water);
        addSetting(blockOverlay);
        addSetting(fog);
        addSetting(blindnessFog);
    }
	
//	public static Checkbox hurtCamera = new Checkbox("Hurt Camera", true);
//    
//    public static Checkbox armor = new Checkbox("Armor", false);
//    public static Checkbox bossBar = new Checkbox("Boss Bars", true);
//    public static Checkbox witherSkulls = new Checkbox("Wither Skulls", true);
//    
//    public static Checkbox noCluster = new Checkbox("Cluster", true);
//    public static Checkbox particles = new Checkbox("Particles", true);
//    public static Checkbox fireworks = new Checkbox("Fireworks", true);
//    public static Checkbox offhand = new Checkbox("Offhand", true);
//    public static Checkbox enchantmentTables = new Checkbox("Enchantment Tables", false);
//    public static Checkbox beacons = new Checkbox("Beacons", false);
//	
    
//    public void onRenderBlockOverlay(RenderBlockOverlayEvent event) 
//	{
//        if (fire.getValue() && event.overlayType.equals(RenderBlockOverlayEvent.OverlayType.FIRE))
//            event.setCanceled(true);
//
//        if (water.getValue() && event.overlayType.equals(RenderBlockOverlayEvent.OverlayType.WATER))
//            event.setCanceled(true);
//
//        if (blockOverlay.getValue() && event.overlayType.equals(RenderBlockOverlayEvent.OverlayType.BLOCK))
//            event.setCanceled(true);
//    }
//    
    @EventTarget
    public void onFogRender(EntityViewRenderEvent.FogDensity event) 
    {
    	if(fog.getValue()) 
    	{	
    		event.density = 0;
    		event.setCancelled(true);
    	}
    }
    
    @EventTarget
    public void onBlindnessFogRender(EntityViewRenderEvent.RenderBlindnessFogEvent event) 
    {
    	if(!blindnessFog.getValue())
    		return;
    	
    	// prevent the blindness fog from being rendered
    	// see net.minecraft.client.renderer.EntityRenderer.setupFog
    	event.setCancelled(true); 
    	
    	GlStateManager.setFogDensity(0);
    	
    	// set the normal fog start / end 
    	float f3 = event.farPlaneDistance;
    	
    	if (event.fogMode == -1)
        {
            GlStateManager.setFogStart(0.0F);
            GlStateManager.setFogEnd(f3);
        }
        else
        {
            GlStateManager.setFogStart(f3 * Config.getFogStart());
            GlStateManager.setFogEnd(f3);
        }
    }
}







